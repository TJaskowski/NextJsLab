(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{6017:(e,s,a)=>{Promise.resolve().then(a.bind(a,5037))},5037:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(5155),t=a(4565),i=a(7982),l=a(6046),n=a(2115),d=a(9606);function u(){let e=(0,l.useSearchParams)().get("returnUrl"),s=(0,l.useRouter)(),[a,u]=(0,n.useState)(""),{register:o,handleSubmit:c,formState:{errors:m}}=(0,d.mN)();return(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-md w-full",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Zaloguj się"}),a&&(0,r.jsx)("div",{className:"alert alert-error mb-4 bg-red-100 text-red-600 p-4 rounded",children:(0,r.jsx)("p",{children:a})}),(0,r.jsxs)("form",{className:"space-y-4",onSubmit:c(a=>{(0,t.oM)(i.j,t.iM).then(()=>{(0,t.x9)(i.j,a.email,a.password).then(a=>{a.user.emailVerified?s.push(e||"/user/profile"):s.push("/user/verify")}).catch(e=>{console.log("Error logging in: ",e),u(e.message)})})}),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-1",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"email",name:"email",type:"text",className:"input w-full border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Wprowadź email",...o("email",{required:{value:!0,message:"Musisz podać adres email!"},maxLength:{value:40,message:"Adres email jest zbyt długi!"},pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Niepoprawny format e-mail."}})}),m.email&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:m.email.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-1",children:"Hasło"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"password",name:"password",type:"password",className:"input w-full border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Wprowadź hasło",...o("password",{required:"Hasło jest wymagane!",maxLength:{value:20,message:"Hasło jest za długie!"}})}),m.password&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:m.password.message})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 rounded-lg transition duration-200",children:"Zaloguj się"})]}),(0,r.jsx)("div",{className:"text-center mt-4 text-sm text-gray-500",children:(0,r.jsxs)("p",{children:["Nie masz konta?"," ",(0,r.jsx)("a",{href:"/user/register",className:"text-blue-500 hover:underline font-medium",children:"Zarejestruj się"})]})})]})})}function o(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(u,{})})}},7982:(e,s,a)=>{"use strict";a.d(s,{db:()=>d,j:()=>n});var r=a(9904),t=a(4565),i=a(7058);let l=(0,r.Wp)({apiKey:"AIzaSyDgBxBNUbHiSD2JKHjim8dbsVj4wLlHAR0",authDomain:"nextjslab-2d9a2.firebaseapp.com",projectId:"nextjslab-2d9a2",storageBucket:"nextjslab-2d9a2.firebasestorage.app",messagingSenderId:"96822370071",appId:"1:96822370071:web:79ccef53c215661ce2a152"}),n=(0,t.xI)(l),d=(0,i.aU)(l)},6046:(e,s,a)=>{"use strict";var r=a(6658);a.o(r,"redirect")&&a.d(s,{redirect:function(){return r.redirect}}),a.o(r,"usePathname")&&a.d(s,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})}},e=>{var s=s=>e(e.s=s);e.O(0,[992,697,861,606,441,517,358],()=>s(6017)),_N_E=e.O()}]);